{% extends "base.html" %} {% block title %}{{ project.title }} - Project Hub{%
endblock %} {% block content %}
<div
  class="max-w-3xl mx-auto bg-white rounded-lg shadow-lg overflow-hidden mt-6"
>
  <div
    class="px-6 py-4 bg-gray-50 border-b border-gray-200 flex justify-between items-center"
  >
    <h2 class="text-2xl font-bold text-gray-800">{{ project.title }}</h2>
    <span
      class="inline-flex items-center px-3 py-1 rounded-full text-sm font-medium {% if project.status == 'completed' %}bg-green-100 text-green-800 {% elif project.status == 'in-progress' %}bg-blue-100 text-blue-800 {% else %}bg-gray-100 text-gray-800{% endif %}"
    >
      {{ project.status|replace('-', ' ')|title }}
    </span>
  </div>
  <div class="p-6">
    <div class="flex items-center text-sm text-gray-500 mb-6">
      <span class="font-medium mr-4"
        >Category:
        <span class="text-gray-900">{{ project.category }}</span></span
      >
      <span>Created: {{ project.created_at.strftime('%B %d, %Y') }}</span>
    </div>

    <div class="prose max-w-none text-gray-700 whitespace-pre-line mb-8">
      {{ project.description }}
    </div>

    <!-- File Attachment Section -->
    {% if project.filename %}
    <div
      class="mt-4 mb-6 p-4 bg-gray-50 border border-gray-200 rounded-md flex items-center justify-between"
    >
      <div class="flex items-center">
        <svg
          xmlns="http://www.w3.org/2000/svg"
          class="h-6 w-6 text-gray-400 mr-3"
          fill="none"
          viewBox="0 0 24 24"
          stroke="currentColor"
        >
          <path
            stroke-linecap="round"
            stroke-linejoin="round"
            stroke-width="2"
            d="M15.172 7l-6.586 6.586a2 2 0 102.828 2.828l6.414-6.586a4 4 0 00-5.656-5.656l-6.415 6.585a6 6 0 108.486 8.486L20.5 13"
          />
        </svg>
        <div class="text-sm">
          <p class="font-medium text-gray-900">Attachment</p>
          <p class="text-gray-500">{{ project.filename }}</p>
        </div>
      </div>
      <a
        href="{{ url_for('uploaded_file', filename=project.filename) }}"
        class="inline-flex items-center px-3 py-2 border border-gray-300 shadow-sm text-sm leading-4 font-medium rounded-md text-gray-700 bg-white hover:bg-gray-50 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500"
      >
        Download
      </a>
    </div>
    {% endif %}

    <div
      class="flex justify-between items-center pt-6 border-t border-gray-200"
    >
      <a
        href="{{ url_for('dashboard') }}"
        class="text-indigo-600 hover:text-indigo-900 font-medium"
        >&larr; Back to Dashboard</a
      >
      {% if current_user.id == project.owner_id %}
      <div class="space-x-3">
        <a
          href="{{ url_for('edit_project', id=project.id) }}"
          class="bg-blue-600 text-white px-4 py-2 rounded hover:bg-blue-700 transition"
          >Edit</a
        >
        <a
          href="{{ url_for('delete_project', id=project.id) }}"
          onclick="return confirm('Delete this project?')"
          class="bg-red-500 text-white px-4 py-2 rounded hover:bg-red-600 transition"
          >Delete</a
        >
      </div>
      {% endif %}
    </div>
  </div>
</div>
{% endblock %}
