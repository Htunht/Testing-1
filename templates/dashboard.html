{% extends "base.html" %} {% block title %}Dashboard - Project Hub{% endblock %}
{% block content %}
<div class="flex justify-between items-center mb-8">
  <h1 class="text-2xl font-bold text-gray-900">My Projects</h1>
  <!-- Add Button (Create) -->
  <a
    href="{{ url_for('new_project') }}"
    class="bg-blue-600 text-white px-4 py-2 rounded-md hover:bg-blue-700 shadow flex items-center transition duration-150"
  >
    <svg
      xmlns="http://www.w3.org/2000/svg"
      class="h-5 w-5 mr-1"
      viewBox="0 0 20 20"
      fill="currentColor"
    >
      <path
        fill-rule="evenodd"
        d="M10 3a1 1 0 011 1v5h5a1 1 0 110 2h-5v5a1 1 0 11-2 0v-5H4a1 1 0 110-2h5V4a1 1 0 011-1z"
        clip-rule="evenodd"
      />
    </svg>
    New Project
  </a>
</div>

{% if projects %}
<div class="grid grid-cols-1 md:grid-cols-2 lg:grid-cols-3 gap-6">
  {% for project in projects %}
  <div
    class="bg-white rounded-lg shadow hover:shadow-lg transition duration-200 flex flex-col h-full border border-gray-200"
  >
    <!-- Project Card Content -->
    <div class="p-5 flex-grow">
      <div class="flex justify-between items-start mb-2">
        <span
          class="inline-flex items-center px-2.5 py-0.5 rounded-full text-xs font-medium {% if project.status == 'completed' %}bg-green-100 text-green-800 {% elif project.status == 'in-progress' %}bg-blue-100 text-blue-800 {% else %}bg-gray-100 text-gray-800{% endif %}"
        >
          {{ project.status|replace('-', ' ')|title }}
        </span>
        <span class="text-xs text-gray-500"
          >{{ project.updated_at.strftime('%Y-%m-%d') }}</span
        >
      </div>
      <h3 class="text-lg font-semibold text-gray-900 mb-2 truncate">
        {{ project.title }}
      </h3>
      <p class="text-gray-600 text-sm mb-4 line-clamp-3">
        {{ project.description }}
      </p>
      <div class="text-xs text-gray-400 uppercase tracking-wide font-semibold">
        {{ project.category }}
      </div>
    </div>

    <!-- CRUD Actions (View, Update, Delete) -->
    <div
      class="bg-gray-50 px-5 py-3 border-t border-gray-100 flex justify-end space-x-2"
    >
      <a
        href="{{ url_for('view_project', id=project.id) }}"
        class="text-indigo-600 hover:text-indigo-900 text-sm font-medium"
        >View</a
      >
      <span class="text-gray-300">|</span>
      <a
        href="{{ url_for('edit_project', id=project.id) }}"
        class="text-blue-600 hover:text-blue-900 text-sm font-medium"
        >Edit</a
      >
      <span class="text-gray-300">|</span>
      <a
        href="{{ url_for('delete_project', id=project.id) }}"
        onclick="return confirm('Are you sure you want to delete this project?')"
        class="text-red-600 hover:text-red-900 text-sm font-medium"
        >Delete</a
      >
    </div>
  </div>
  {% endfor %}
</div>
{% else %}
<!-- Empty State -->
<div
  class="text-center py-16 bg-white rounded-lg border-2 border-dashed border-gray-300"
>
  <svg
    xmlns="http://www.w3.org/2000/svg"
    class="mx-auto h-12 w-12 text-gray-400"
    fill="none"
    viewBox="0 0 24 24"
    stroke="currentColor"
  >
    <path
      stroke-linecap="round"
      stroke-linejoin="round"
      stroke-width="2"
      d="M9 13h6m-3-3v6m-9 1V7a2 2 0 012-2h6l2 2h6a2 2 0 012 2v8a2 2 0 01-2 2H5a2 2 0 01-2-2z"
    />
  </svg>
  <p class="mt-2 text-gray-500 text-lg">
    You haven't created any projects yet.
  </p>
  <div class="mt-4">
    <a
      href="{{ url_for('new_project') }}"
      class="text-indigo-600 font-semibold hover:text-indigo-500"
      >Create your first project &rarr;</a
    >
  </div>
</div>
{% endif %} {% endblock %}
